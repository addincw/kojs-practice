<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Knockout JS Practice</title>
  </head>
  <body>
    <h1>Welcome, help us to know yo better</h1>

    <p>What's your name?</p>
    <div style="display: flex">
      <div style="margin-right: 5px">
        <input
          type="text"
          name="firstname"
          data-bind="value: firstname"
          placeholder="firstname"
        />
        <p
          style="
            margin: 4px 0 0;
            color: blue;
            text-decoration: underline;
            cursor: pointer;
          "
          data-bind="click: setFirstnameCapitalize"
        >
          capitalize
        </p>
      </div>
      <div>
        <input
          type="text"
          name="lastname"
          data-bind="value: lastname"
          placeholder="lastname"
        />
      </div>
    </div>

    <h3>Hello <span data-bind="text: fullname"></span></h3>

    <script src="/assets/knockout-3.5.1.js"></script>
    <script type="text/javascript">
      function AppViewModel() {
        this.firstname = ko.observable("");
        this.lastname = ko.observable("");

        this.fullname = ko.computed(function () {
          return this.firstname() + " " + this.lastname();
        }, this);

        this.setFirstnameCapitalize = function () {
          const currentFirstname = this.firstname();

          if (!currentFirstname) return;

          this.firstname(currentFirstname.toUpperCase());
        };
      }

      ko.applyBindings(new AppViewModel());
    </script>
  </body>
</html>
